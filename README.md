# ğŸ„ Grand Luxury Interactive 3D Christmas Tree

> ä¸€ä¸ªåŸºäº **React**, **Three.js (R3F)** å’Œ **AI æ‰‹åŠ¿è¯†åˆ«** çš„é«˜ä¿çœŸ 3D åœ£è¯æ ‘ Web åº”ç”¨ã€‚

è¿™ä¸ªé¡¹ç›®ä¸ä»…ä»…æ˜¯ä¸€æ£µæ ‘ï¼Œå®ƒæ˜¯ä¸€ä¸ªæ‰¿è½½è®°å¿†çš„äº¤äº’å¼ç”»å»Šã€‚æˆåƒä¸Šä¸‡ç²’å­ã€ç’€ç’¨å½©ç¯ä¸æ‚¬æµ®æ‹ç«‹å¾—å…±åŒç»„æˆä¸€æ£µå¥¢åçš„åœ£è¯æ ‘ã€‚ç”¨æˆ·å¯é€šè¿‡æ‰‹åŠ¿æ§åˆ¶æ ‘çš„å½¢æ€ï¼ˆèšåˆ/æ•£å¼€ï¼‰ã€è§†è§’æ—‹è½¬ã€ç…§ç‰‡é€‰æ‹©ä¸æ‹–æ‹½ï¼Œå¹¶æ”¯æŒåŒæ‰‹ç¼©æ”¾é€‰ä¸­ç…§ç‰‡ã€‚

![Project Preview](public/preview.png)
*(æ³¨ï¼šå»ºè®®åœ¨æ­¤å¤„ä¸Šä¼ ä¸€å¼ ä½ çš„é¡¹ç›®è¿è¡Œæˆªå›¾)*

## âœ¨ æ ¸å¿ƒç‰¹æ€§

* æè‡´è§†è§‰ä½“éªŒï¼šåŠ åæœŸå…‰æ™• (Bloom) ä¸è¾‰å…‰ï¼Œè¥é€ æ¢¦å¹»æ°›å›´
* è®°å¿†ç”»å»Šï¼šæ‹ç«‹å¾—é£æ ¼æ‚¬æµ®ç…§ç‰‡ï¼ŒåŒé¢æ¸²æŸ“ï¼Œåº•éƒ¨éšæœºâ€œç™½è‰²è‰ºæœ¯è‹±æ–‡å­—â€å¹¶å¸¦å†™å®é˜´å½±
* AI æ‰‹åŠ¿æ§åˆ¶ï¼šæ— éœ€é¼ æ ‡ï¼Œé€šè¿‡æ‘„åƒå¤´å®Œæˆæ ‘å½¢æ€ã€è§†è§’ä¸ç›¸ç‰‡äº¤äº’
* åŒæ‰‹åä½œï¼šç¬¬ä¸€åªæ‰‹æåˆæ‹–ç§»ï¼Œç¬¬äºŒåªæ‰‹æåˆåç”¨ä¸¤æ‰‹é£ŸæŒ‡è·ç¦»æ§åˆ¶é€‰ä¸­ç…§ç‰‡ç¼©æ”¾ï¼ˆè·ç¦»å¤§â†’æ”¾å¤§ï¼Œè·ç¦»å°â†’ç¼©å°ï¼‰
* å¯å®šåˆ¶ï¼šæ”¯æŒæ›¿æ¢ç…§ç‰‡ã€è°ƒæ•´æ•°é‡ã€åˆ‡æ¢åœ£è¯å…ƒç´ é£æ ¼ï¼ˆClassic/Neon/Metallic/Pastel/Candyï¼‰

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

* **æ¡†æ¶**: React 18, Vite
* **3D å¼•æ“**: React Three Fiber (Three.js)
* **å·¥å…·åº“**: @react-three/drei, Maath
* **åæœŸå¤„ç†**: @react-three/postprocessing
* **AI è§†è§‰**: MediaPipe Tasks Vision (Google)

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. ç¯å¢ƒå‡†å¤‡
ç¡®ä¿ä½ çš„ç”µè„‘å·²å®‰è£… [Node.js](https://nodejs.org/) (å»ºè®® v18 æˆ–æ›´é«˜ç‰ˆæœ¬)ã€‚

### 2. å®‰è£…ä¾èµ–
åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹æ‰“å¼€ç»ˆç«¯ï¼Œè¿è¡Œï¼š
```
npm install
```
### 3. å¯åŠ¨é¡¹ç›®
```
npm run dev
```
### ğŸ–¼ï¸ è‡ªå®šä¹‰ç…§ç‰‡
### 1. å‡†å¤‡ç…§ç‰‡
æ‰¾åˆ°é¡¹ç›®ç›®å½•ä¸‹çš„ public/photos/ æ–‡ä»¶å¤¹ã€‚

é¡¶ç«¯å°é¢å›¾ï¼šå‘½åä¸º `top.jpg`ï¼ˆæ ‘é¡¶ç”¨äºå¼ºè°ƒå±•ç¤ºï¼‰

æ ‘èº«ç…§ç‰‡ï¼šå‘½åä¸º `1.jpg, 2.jpg, 3.jpg, ...` ä¾æ¬¡ç±»æ¨

å»ºè®®ï¼šä½¿ç”¨æ­£æ–¹å½¢æˆ– 4:3 æ¯”ä¾‹çš„å›¾ç‰‡ï¼Œæ–‡ä»¶å¤§å°ä¸å®œè¿‡å¤§ï¼ˆå»ºè®®å•å¼  500kb ä»¥å†…ä»¥ä¿è¯æµç•…åº¦ï¼‰
### 2. æ›¿æ¢ç…§ç‰‡
ç›´æ¥æŠŠä½ çš„ç…§ç‰‡å¤åˆ¶åˆ° `public/photos/`ï¼Œä¿æŒæ–‡ä»¶åæ ¼å¼ä¸å˜ï¼ˆ`1.jpg, 2.jpg, ...`ï¼‰ã€‚
### 3. ä¿®æ”¹ç…§ç‰‡æ•°é‡ (å¢åŠ æˆ–å‡å°‘)
å¦‚æœä½ æ”¾å…¥äº†æ›´å¤šç…§ç‰‡ï¼ˆä¾‹å¦‚ä»é»˜è®¤çš„ 24 å¼ å¢åŠ åˆ° 100 å¼ ï¼‰ï¼Œéœ€è¦ä¿®æ”¹ä»£ç ä»¥é€šçŸ¥ç¨‹åºåŠ è½½å®ƒä»¬ã€‚
æ‰“å¼€æ–‡ä»¶ï¼š`src/App.tsx:20`
å°† `TOTAL_NUMBERED_PHOTOS` ä¿®æ”¹ä¸ºä½ å®é™…æ”¾å…¥çš„å›¾ç‰‡æ•°é‡
è¯´æ˜ï¼šè‹¥æœ‰ç¼ºå›¾ï¼Œåº”ç”¨å¯ç”¨â€œå®‰å…¨çº¹ç†åŠ è½½â€ï¼Œä¼šä»¥ç™½è‰²å ä½å›¾æ›¿ä»£ï¼Œé˜²æ­¢ç™½å±
### ğŸ–ï¸ æ‰‹åŠ¿ä¸äº¤äº’
- Open Palmï¼šæ•£å¼€æ ‘ä½“ä¸å…ƒç´ 
- Closed Fistï¼šèšåˆæ ‘ä½“ï¼Œå¹¶å–æ¶ˆå½“å‰ç…§ç‰‡é€‰ä¸­
- æ°´å¹³ç§»åŠ¨ï¼šæ§åˆ¶æ—‹è½¬é€Ÿåº¦
- å‚ç›´ç§»åŠ¨ï¼šæ§åˆ¶ç›¸æœºä¿¯ä»°ï¼ˆå¸¦å¹³æ»‘ä¸æ­»åŒºï¼‰
- Pointing Upï¼ˆé£ŸæŒ‡å‘ä¸Šï¼‰ï¼šä»¥é£ŸæŒ‡æŒ‡å°–ä¸ºå…‰æ ‡ï¼Œåœ¨å±å¹•ä¸Šæ˜¾ç¤ºå…‰æ ‡å¹¶å°±è¿‘é€‰ä¸­ç…§ç‰‡
- Pinchï¼ˆé£ŸæŒ‡+æ‹‡æŒ‡æåˆï¼‰ï¼š
  - ç¬¬ä¸€åªæ‰‹ï¼šæ‹–ç§»å·²é€‰ç…§ç‰‡ï¼ˆå±å¹•å¹³é¢ï¼Œå¸¦å¹³æ»‘ï¼‰
  - ç¬¬äºŒåªæ‰‹ï¼šè‹¥æåˆæ¿€æ´»ï¼ŒæŒ‰ä¸¤æ‰‹é£ŸæŒ‡ä¹‹é—´çš„è·ç¦»ç¼©æ”¾é€‰ä¸­ç…§ç‰‡ï¼ˆè·ç¦»å¤§â†’æ”¾å¤§ï¼Œè·ç¦»å°â†’ç¼©å°ï¼ŒèŒƒå›´çº¦ 1Ã—â€“3Ã—ï¼‰
- Victory/Pointing Upï¼šé”å®šæ—‹è½¬
è¯´æ˜ï¼šè°ƒå‚ä½ç½®åœ¨ `src/App.tsx` çš„ `GestureController` ä¸ `Experience`ï¼Œå¯è°ƒæ•´æåˆé˜ˆå€¼ã€å¹³æ»‘å¼ºåº¦ã€æ‹–æ‹½å¹³é¢æ³•çº¿ä¸è¿‘é‚»é€‰å–åŠå¾„ã€‚
### âš™ï¸ è¿›é˜¶é…ç½®
- è§†è§‰å‚æ•°ï¼š`src/App.tsx` ä¸­çš„ `CONFIG`
  - `counts.foliage` æ ‘å¶ç²’å­æ•°é‡
  - `counts.ornaments` ç…§ç‰‡æ•°é‡ï¼ˆä¸ `TOTAL_NUMBERED_PHOTOS` æ­é…ï¼‰
  - `counts.lights` å½©ç¯æ•°é‡
  - `tree.height/radius` æ ‘ä½“å°ºå¯¸
- åœ£è¯å…ƒç´ é£æ ¼åˆ‡æ¢ï¼šå³ä¸‹è§’ `ğŸ›  DEBUG` æŒ‰é’®æ—çš„é£æ ¼æŒ‰é’®ï¼ˆClassic/Neon/Metallic/Pastel/Candyï¼‰
- ç…§ç‰‡æ ‡é¢˜ï¼šæ‹ç«‹å¾—è¾¹æ¡†åº•éƒ¨éšæœºâ€œç™½è‰²è‰ºæœ¯è‹±æ–‡å­—â€ï¼Œå¸¦å†™å®é˜´å½±
### ğŸ“„ License
MIT License. Feel free to use and modify for your own holiday celebrations!

### Merry Christmas! ğŸ„âœ¨

# Optimized Prompt (English Version)

## Role Definition

You are a senior 3D interactive experience engineer and art director,
highly proficient in **React (v19), TypeScript, Three.js, and React
Three Fiber (R3F)**. You specialize in building high-fidelity, visually
artistic Web 3D experiences.

## Project Goal

Build a premium 3D interactive web project: \### "Arix Signature
Interactive Christmas Tree"

Art direction & visual identity: - Mood: extravagant, luxurious, golden
opulence with a refined sense of elegance\
- Primary palette: **deep emerald green + high-gloss metallic gold**\
- Effects: cinematic bloom, glare, lens flare, and soft halo lighting

# I. Core Interaction & State Design

## 1. State Machine (TreeMorphState)

Design a global interaction state machine with at least two major
states:

-   **SCATTERED**\
    All particles and ornaments float and drift randomly in 3D space,
    creating a sense of controlled chaos.

-   **TREE_SHAPE**\
    All elements converge and form a structured Christmas-tree-shaped
    cone.

Requirements: - Smooth transitions between states (interpolation, easing
curves, timeline control)\
- The motion should evoke an "attractive force" pulling elements into
the tree shape

## 2. Dual Position System

Each element (foliage particle or ornament instance) must be initialized
with two coordinate sets:

-   **scatterPosition**: randomly distributed within a spherical radius\
-   **treePosition**: precomputed position sampled on the tree cone's
    surface or volume

Requirements: - Transitions should interpolate between scatterPosition â†”
treePosition\
- Motion should feel organic, smooth, and rhythmic

# II. Tree Structure & Ornament System

## 1. Foliage Layer

Use **THREE.Points with custom ShaderMaterial** to render dense foliage
particles that define the tree's silhouette.

Particles should support: - Subtle jitter / breathing motion\
- Bloom-enhanced or Fresnel-based rim highlights\
- Deep green base color with a hint of gold or warm white glow on the
edges

## 2. Ornament System

Use **InstancedMesh** for performance. Ornament categories:

-   **Heavy ornaments**: gift boxes (larger, more saturated colors)\
-   **Light ornaments**: metallic reflective spheres\
-   **Ultra-light ornaments**: light dots, stars, or glow particles

Each category should have different "motion weights": - Different
floating amplitudes in SCATTERED state\
- Different convergence speeds in TREE_SHAPE state
