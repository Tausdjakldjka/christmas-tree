## 目标
- 增加两种手势交互：
  1) 伸出拇指（Thumb_Up）指向并“选中”一张照片
  2) 食指与拇指捏合（Pinch）后拖移该照片
- 保持现有“聚合/散开”和旋转功能不受影响。

## 可用能力与依据
- MediaPipe Gesture Recognizer 预设手势包含 `Thumb_Up`（以及 `Closed_Fist`, `Open_Palm` 等）[Google AI Edge 文档](https://developers.google.com/mediapipe/solutions/vision/gesture_recognizer) / [API 说明](https://ai.google.dev/edge/mediapipe/solutions/vision/gesture_recognizer)
- Pinch 并非预设手势，可用手部关键点距离近似判断（拇指指尖 LM4 与食指指尖 LM8 的距离阈值与迟滞）。

## 交互设计
- 选中：当识别为 `Thumb_Up` 且手指稳定 ≥N 帧时，以拇指指尖位置发射射线（Raycast）命中最近的照片，设置为 `selectedPhoto` 并给予高亮/轻微放大。
- 拖移：当 LM4 与 LM8 距离 < 阈值（如 0.05）触发 `pinchStart`，在 `pinchActive` 状态下将 `selectedPhoto` 的位置绑定到当前指尖射线与“拖拽平面”的交点，加入平滑（`damp`）。当距离 > 另一阈值（如 0.07）触发 `pinchEnd`。
- 显示与安全：视频画面镜像显示（代码已有），坐标映射时反转 x 保持直觉一致；当无选中或无捏合则不影响照片的原动画。

## 技术实现（文件与步骤）
### 1) GestureController（`src/App.tsx:432-517`）
- 新增状态上报：`onSelectFromThumb`, `onPinchState({active, ndc, world?})`。
- 获取 Landmark：`results.landmarks[0]` 中 LM4（拇指尖）与 LM8（食指尖）。
- 识别选中：
  - 若 `results.gestures[0][0].categoryName === 'Thumb_Up'` 且 `score >= 0.6` 且稳定 ≥2 帧 → 调用 `onSelectFromThumb(thumbTip)`。
- 识别捏合：
  - 计算 `dist = ||LM4 - LM8||`（使用归一化图像坐标）；
  - `dist < 0.05` → `pinchActive = true`，持续上报当前拇指尖坐标；
  - `dist > 0.07` → `pinchActive = false`（迟滞避免抖动）。
- 坐标映射：
  - 将归一化坐标映射到 NDC：`ndc.x = (1 - x) * 2 - 1`（镜像修正），`ndc.y = -(y * 2 - 1)`。

### 2) Experience（`src/App.tsx:383-430`）
- 新增交互状态：`selectedPhotoId`, `pinchActive`, `pinchNdc`, `dragPlane`。
- Raycast 选中：
  - 使用 `Raycaster` + 当前相机，从 `pinchNdc`（或 Thumb NDC）发射，命中 `PhotoOrnaments` 中照片 mesh 或其父 group，取最近者 → `selectedPhotoId`。
- 拖拽平面：
  - 以被选中的照片为参考，创建一个法向朝向相机的 `Plane`（或法线与树体垂直的局部平面）。
  - `pinchActive` 时，计算 `ray.intersectPlane(plane)` 得到目标点，`damp` 平滑设置该照片的 `position`。

### 3) PhotoOrnaments（`src/App.tsx:126-234`）
- 数据结构：为每张照片增加 `id` 与 `isDragging`/`overridePos`。
- 更新逻辑：
  - 若某张 `isDragging` 为真，则跳过其原 `lerp`/摇摆/旋转更新，直接使用 `overridePos`（来自 Experience）。
  - 高亮选中：适度提高 `emissiveIntensity` 或 `scale`。

### 4) 状态与通信
- App 层增加交互状态，向 `Experience` 传递：
  - `onSelectFromThumb(thumbNdc)` → `Experience` 执行 Raycast，设置选中。
  - `onPinchState(active, ndc)` → 若已选中则拖拽；若未选中则忽略。

### 5) 参数与平滑
- 迟滞阈值：`pinchStart < 0.05`、`pinchEnd > 0.07`（可根据摄像头与手距微调）。
- 平滑：`MathUtils.damp(current, target, 6, delta)`，避免抖动。
- 选中稳定帧数：≥2 帧（或时间阈值 100ms）。

### 6) 兼容与边界
- 仅在 `FORMED` 态允许选中与拖拽（可选），避免散开态下体验不一致。
- 多物体遮挡时优先最近交点；若拇指未指向任何照片则不选中。
- `enablePan=false` 保持；相机旋转与俯仰仍可用，拖拽时仅更新选中对象。

### 7) 文档与可调项
- README 补充手势说明：`Thumb_Up 选中`、`Pinch 拖移`，并说明调试、阈值与平滑参数位置。

## 验证
- 开启 `DEBUG` 观察关键点与拇指位置，验证选中命中率。
- Pinch 开始/结束稳定性测试（来回开合食指与拇指）。
- 在树的不同区域、不同深度的照片进行拖拽，确认平面交互自然且不穿模。

## 后续增强（可选）
- 自定义手势分类器：若 `Thumb_Up` 易误判，可训练/替换自定义 `.task` 模型并配置 allow-list。
- 双手支持：未来可扩展 `numHands=2`，用一只手选中、另一只手旋转相机。
- 选中反馈：加入轻微粒子或边框闪烁动画提升交互感。